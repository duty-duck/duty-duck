---
title: Authentification à l'API
navigation:
    sectionTitle: Documentation pour les développeurs
---

L'API REST de Duty Duck, accessible à l'URL `https://api.dutyduck.net` vous permet d'accomplir toutes les actions disponibles sur l'interface Web: gérer les moniteurs, les tâches, les incidents, etc.

## Générer un jeton d'accès

Pour utiliser l'API, vous aurez besoin d'un *jeton d'accès* (access token). Un jeton d'accès se compose d'un identifiant et d'une clé secrète.

::alert{variant="warning"}
Votre jeton d'accès permet d'effectuer n'importe quelle action en votre nom. Vous devez le garder en sécurité et ne le partager avec personne.
::

Vous pouvez générer un jeton d'accès pour votre compte depuis le Dashboard, dans la section *Mon compte*. 

- Cliquez sur votre nom en haut à droite de l'écran pour accéder à la page *Mon compte* depuis le menu déroulant.
- Dans la section de la page *Jetons d'API*, vous pouvez lister vos jetons d'accès ou en générer un nouveau.
- Cliquez sur le bouton *Créer un jeton* pour accéder au formulaire de création. Vous devez renseigner un libellé et une date d'expiration. 
Par sécurité, la date d'expiration ne peut pas être plus d'un an dans le futur.
- Cliquez sur le bouton *Créer* pour générer le jeton.
- Vous allez voir immédiatement l'identifiant et la clé secrète. Sauvegardez immédiatement la clé secrète dans un endroit sûr, elle ne sera affichée qu'une seule fois.

À tout moment, vous pouvez supprimer un jeton d'accès depuis la même section *Jetons d'API*. Il est recommandé de le faire si vous n'utilisez plus un jeton d'accès ou si vous soupçonnez qu'il a été compromis.


## Utiliser un jeton d'accès pour faire des requêtes

La paire *identifiant/clé secrète* vous permet d'authentifier vos requêtes à l'API. Vous devez les inclure dans les en-têtes `X-Api-Token-Id` et `X-Api-Token-Secret-Key` pour chaque requête.

Par exemple, pour faire une requête avec cURL pour lister les moniteurs de votre organisation:

### Exemples

#### cURL

```bash
curl -X GET "https://api.dutyduck.net/monitors" -H "X-Api-Token-Id: 1234567890" -H "X-Api-Token-Secret-Key: abcdef1234567890"
```

#### En Javascript, avec `fetch`: 

```javascript
fetch('https://api.dutyduck.net/monitors', {
    headers: {
        'X-Api-Token-Id': '1234567890',
        'X-Api-Token-Secret-Key': 'abcdef1234567890'
    }
});
```

## Aller plus loin

- [Documentation complète de l'API](/docs/api)